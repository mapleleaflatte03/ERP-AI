# ERPX AI Accounting - Environment Configuration
# ================================================
# Copy this file to .env and fill in the values

# ==========================================================================
# API Configuration
# ==========================================================================
ENV=development
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
LOG_LEVEL=INFO

# ==========================================================================
# LLM Configuration
# ==========================================================================
# OpenAI API Key (or compatible provider)
LLM_API_KEY=sk-your-api-key-here

# Model to use (gpt-4, gpt-3.5-turbo, claude-3-opus, etc.)
LLM_MODEL=gpt-4

# Alternative: Azure OpenAI
# AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
# AZURE_OPENAI_API_KEY=your-azure-key
# AZURE_OPENAI_DEPLOYMENT=your-deployment-name

# ==========================================================================
# Database Configuration
# ==========================================================================
DATABASE_URL=postgresql://erpx:erpx_password@localhost:5432/erpx_db
POSTGRES_USER=erpx
POSTGRES_PASSWORD=erpx_password
POSTGRES_DB=erpx_db

# ==========================================================================
# Vector Database (Qdrant)
# ==========================================================================
QDRANT_URL=http://localhost:6333
QDRANT_API_KEY=

# ==========================================================================
# Object Storage (MinIO/S3)
# ==========================================================================
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_USE_SSL=false

# Buckets
BUCKET_RAW_DOCUMENTS=raw-documents
BUCKET_PROCESSED_DOCUMENTS=processed-documents
BUCKET_ARCHIVE_DOCUMENTS=archive-documents

# ==========================================================================
# Observability
# ==========================================================================
# OpenTelemetry
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
OTEL_SERVICE_NAME=erpx-ai-accounting

# MLflow
MLFLOW_TRACKING_URI=http://localhost:5000

# ==========================================================================
# Redis (Caching & Rate Limiting)
# ==========================================================================
REDIS_URL=redis://localhost:6379/0

# ==========================================================================
# Security
# ==========================================================================
# JWT Secret (generate with: openssl rand -hex 32)
JWT_SECRET=your-jwt-secret-here-change-in-production

# CORS Origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# ==========================================================================
# Processing Configuration
# ==========================================================================
# Default processing mode: STRICT or RELAXED
DEFAULT_PROCESSING_MODE=STRICT

# Approval thresholds (VND)
APPROVAL_THRESHOLD_AUTO=10000000
APPROVAL_THRESHOLD_MANAGER=100000000

# Reconciliation tolerances
RECONCILIATION_AMOUNT_TOLERANCE_PERCENT=0.5
RECONCILIATION_DATE_TOLERANCE_DAYS=7

# ==========================================================================
# Tenant Configuration
# ==========================================================================
DEFAULT_TENANT_ID=demo-tenant-001

# ==========================================================================
# Feature Flags
# ==========================================================================
ENABLE_AUDIT_LOGGING=true
ENABLE_EVIDENCE_STORE=true
ENABLE_APPROVAL_WORKFLOW=true
ENABLE_TELEMETRY=true
